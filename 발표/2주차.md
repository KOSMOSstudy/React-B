# 2주차 React 스터디 정리

| 장   | 제목          |
| ---- | ------------- |
| 4장 | 이벤트 핸들링       |
| 5장 | ref.DOM 에 이름달기 |

-----

# 4장 이벤트 핸들링 

- 사용자가 웹브라우저에서 DOM 요소들과 상호작용하는것을 이벤트(event)라고 합니다
- 비슷하면서도 다른 HTML 과 React 이벤트 사용법에 대해 알아봅시다 🤸‍♀️

먼저 HTML 코드를 보도록 하겠습니다

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <title>JS Bin</title>  
  </head>
  <body>
    <button onclick="alert('executed')"> Click me</button>
  </body>
</html>
```
뭔가 많이 부족해 보이는 html코드.. 바로 감이 오시나요?   
리액트에서 이벤트 사용시, 알아야 하는 사항이 몇가지 있습니다!

⚠ 주의사항
1. 이벤트 이름은 카멜 표기법으로 작성한다.  
 `ex) onclick => onClick`  
2. 이벤트에 JS 코드가 아닌, 함수값 형태를 전달한다.  
 `화살표 함수 문법으로 함수를 만들어 전달하거나 렌더링 부분 외부에서 미리 만들어 전달도 가능 ` 
3. 돔(DOM) 요소에만 이벤트를 설정할 수 있다.  
 `만약 돔형식으로 설정하지 않을 경우, 이름이 onClick인 props를 MyComponent에게 전달하게 되는 꼴입니다!`
 
 
> 리액트에서 지원하는 이벤트는 종류는 꽤 다양한데요  
Touch, Form, UI, Media 등등..  
위 종류 말고도 다른 리액트 이벤트가 궁금하시다면 아래 링크를 참고해 주세요  
https://reactjs.org/docs/events.html

위 사항들을 숙지하며 리액트 코드작성해 보도록 하겠습니다!  

#### 1. onChange 이벤트 핸들링하기

```javascript
import React, { Component } from 'react';

class EventPractice extends Component {
    render() {
        return (
            <div>
                <h1>onChange 이벤트 핸들링하기</h1>
                <input
                    type="text"
                    name="message"
                    placeholder="아무거나 입력해보세요"
                    
                    onChange={
                        (e)=>{
                            console.log(e.target.value);
                        }
                    }
                    />
            </div>
        );
    }
}

export default EventPractice;
```
> 🍯Tip,  
> 콘솔에 기록되는 e 객체는 SyntheicEvent로 웹브라우저의 네이티브 이벤트를 감싸는 객체입니다.  
> 네이티브 이벤트와 인터페이스가 같으므로 순수 JS에서 html이벤트를 다룰때와 똑같이 사용하면 안됩니다. 
> 이벤트가 끝나면 내부가 초기화 되는 SyntheicEvent 특성상 이벤트를 참조해야하는 일이 있다면   
> e.persist() 함수를 호출해야 합니다.  


👨‍💻 결과화면

<img src="https://user-images.githubusercontent.com/67777124/134998586-c0f99013-6d44-43ca-98c2-e19c34ad00ad.png">



#### 2. state에 input 값 담기
생성자 메서드인 constuctor에서 state 초깃값을 설정하고, 
이벤트 핸들링 내부에서 ```this.setState```를 호출해 업데이트 해봅시다!  

```javascript
import React, { Component } from 'react';

class EventPractice extends Component {
    state={
        message: ''
    }
    render() {
        return (
            <div>
                <h1>state에 input 값 담기</h1>
                <input
                    type="text"
                    name="message"
                    placeholder="아무거나 입력해보세요"
                    
                    value={this.state.message}
                    onChange={
                        (e)=>{
                            this.setState({
                                message: e.target.value
                            })
                        }
                    }
                    />
                    <h1>내가 적은값: {this.state.message}</h1>
            </div>
        );
    }
}

export default EventPractice;
```

👨‍💻 결과화면     
오류가 나지않고  아래와 같이 제대로 입출력이 된다면 성공!  
<img src="https://user-images.githubusercontent.com/67777124/134999899-0f26f0cb-ee12-4cf6-b03b-f4a1e936b7c6.png" height="200"/>


#### 3. 버튼을 누를 때 comment 값을 공백으로 설정
정말 우리가 입력한 값이 state에 잘 들어갔는지 검증하기 위해  
클릭 이벤트가 발생하면 현재 comment값을 메시지로 띄운 후, 공백으로 설정하겠습니다.

```javascript
import React, { Component } from 'react';

class EventPractice extends Component {
    state={
        message: ''
    }
    render() {
        return (
            <div>
                <h1>버튼을 누를 때 comment 값을 공백으로 설정</h1>
                <input ... (생략)/>
                    <button onClick={
                        ()=>{
                            alert(this.state.message+'메시지 지워집니당~');
                            this.setState({
                                message: ''
                            });
                        }
                    }>확인</button>
            </div>
        );
    }
}

export default EventPractice;
```

👨‍💻 결과화면    
<img src="https://user-images.githubusercontent.com/67777124/135002718-30022047-de7f-4b54-8e22-8d5ddc8cfb5a.png" height="200"/>



#### 4. input 여러개 다루기

우리는 input값을 state에 넣는 방법을 배웠습니다.  
하지만 input이 여러 개일 때는 어떻게 해야할까요?  
이번엔 쉽게 여러 개를 처리하는 방법을 알아봅시다! 

```이벤트 객체 event.terget.name 활용```  
onChange 이벤트 핸들러에서 event.terget.name은 해당 인풋의 name을 가르킵니다.   
이 값을 사용하여 state를 설정하면 쉽게 해결할 수 있습니다.

```javascript

    handleChange = (e) => {
        this.setState({
            [e.target.name]: e.target.value
        });
    }

    handleClick = (e) => {
        alert(this.state.username+':'+this.state.message);
        this.setState({
            username: '',
            message: ''
        });
    }

    
    <input
       type="text"
       name="username"
       placeholder="유저명"
                    
       value={this.state.username}
       onChange={this.handleChange}
      />
    <input
       type="text"
       name="message"
       placeholder="아무거나 입력하세요"
                    
       value={this.state.username}
       onChange={this.handleChange}
      />

    
 ```
 
 
<details>
<summary>퀴즈! this와 바인딩을 하는 이유!?</summary>
  </br>
  바인딩을 하지 않은 경우 this가 undfined를 가르키기 때문!  
  </br>
  생성자 메서드에서 하는것이 정석적인 방법이 있긴 하지만  
  </br>
  바벨 문법을 활용하여 화살표 함수 형태로 메서드를 정의하기도 하지요  
  </br>
  </br>
  </br>
  
 상품은.. 요즘 멋사에서 애용하는 예빈벅스
 </br>
<img src="https://user-images.githubusercontent.com/67777124/135006750-5ce5f795-1f22-410a-a331-bf16b62ad57e.png" height="200"/>

</details>

 </br>

 
  👨‍💻 결과화면    
  <img src="https://user-images.githubusercontent.com/67777124/135005386-6ff3715e-afc6-43f0-99d4-1329953f23d9.png" height="200"/>


> +번외
> onKeyPress 이벤트 핸들링 배워보기!

키를 눌렀을때 발생하는 KeyPress 이벤트를 처리하는 방법을 알아보겠습니다.
우선, Key 선언 방식인데요!

객체 안에서 Key를 []로 감싸면 그 안에 넣은 레퍼런스가 가르키는 실제 값이 Key값으로 사용됩니다.  
 
```javascript
const name = '샤이니 만능열쇠Key'
const object = {
 [name]: '재범쿤'
 };
 
 { '샤이니 만능열쇠Key' : '재범쿤'}
```

```javascript

   <..생략>
   handleChange = (e) => {
        this.setState({
            [e.target.name]: e.target.value
        });
    }
   
    handleKeyPress=(e)=>{
        if(e.key == 'Enter'){
            this.handleClick();
        }
    }
    
    handleClick = (e) => {
        alert(this.state.username+':'+this.state.message);
        this.setState({
            username: '',
            message: ''
        });
    }

    
    <input
       type="text"
       name="message"
       placeholder="아무거나 입력하세요"
                    
       value={this.state.username}
       onChange={this.handleChange}
       onKeyPress={this.handleKeyPress}
      />
      
 ```
Key값 설정이 정상적으로 처리되었기에 `enter`를 누르면 메시지가 삭제됩니다!




